{% include 'header.html' %}
<h2 class="articleTitle">{{ article.title }}</h2>
<div class="card">
    <img src="{{ url_for('static', filename=article.image) }}" class="card-img-top" alt="Image">
    <div class="card-body">
        <p class="card-text">{{ article.description }}</p>
        <p class="card-text">{{ article.content|safe }}</p>
    </div>
    <ul class="list-group list-group-flush">
        <li class="list-group-item"><strong>Дата написания: </strong>{{ article.creation_date.strftime("%Y-%m-%d") }}</li>
        <li class="list-group-item"><strong>Автор: </strong>{{ article.author }}</li>
        <li class="list-group-item"><strong>Количество просмотров: </strong>{{ article.views }}</li>
        {% if article.themes %}
            <li class="list-group-item">
                {% for theme in article.themes %}
                <strong> <a href="{{ url_for('theme', themelink=theme.link) }}">| {{ theme.name }} |</a> </strong>
                {% endfor %}
            </li>
        {% endif %}
    </ul>
    
</div>

{% if current_user.username == article.author_account.username %}
<div class="container mt-5">
<nav class="navbar navbar-expand-lg navbar-dark bg-dark">
<div class="collapse navbar-collapse">
    <ul class="navbar-nav ml-auto">
        <li id="editButton"><button onclick= "redirectToArticle()" class="btn-lg btn-danger">Изменить</button></li>
        <li id="deleteButton"><button onclick="showConfirmation()" class="btn-lg btn-danger">Удалить</button></li>
    </ul>
</div>
</nav>
</div>
{% endif %}

 <!-- Скрипт для вызова флеш-сообщения -->
 <script>
    function showConfirmation() {
        var confirmation = confirm("Вы уверены?");
        if (confirmation) {
            window.location.href = "{{ url_for('delete_article', id=article.id) }}";
        } else {
            // Можете добавить дополнительную логику или оставить пустым
        }
    }

    function redirectToArticle() {
        window.location.href = "{{ url_for('edit_article', id=article.id) }}";
    }

</script>
{% include 'footer.html' %}